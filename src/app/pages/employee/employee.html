<div class="tab-pane fade show active" id="employees" role="tabpanel">
    <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="m-0">Employee</h2>
    <button class="btn btn-info btn-add" (click)="showOrHide(true)">Add New</button>
     </div>

     @if(isFormVisible==true)
     {
            <form class="mb-4">
       <div class="row">
        <div class="col-md-6">
            <label for="empName" class="form-label">Employee Name</label>
            <input type="text" class="form-control" name="empName" [(ngModel)]="employeeObj.employeeName" id="employeeName" placeholder="Enter employee name"> 
        </div>
        <div class="col-md-6">
            <label for="contactNo" class="form-label">Contact No.</label>
            <input type="text" class="form-control" name="contactNo" [(ngModel)]="employeeObj.contactNo" id="contactNo" placeholder="Enter contact number">
        </div>
       </div>

       <div class="row">
        <div class="col-md-4">
            <label for="emailId" class="form-label">Email</label>
            <input type="email" class="form-control" name="emailId" [(ngModel)]="employeeObj.emailId" id="emailId" placeholder="Enter email"> 
        </div>
        <div class="col-md-4">
            <label for="parentDeptId" class="form-label">Parent Department</label>
            <select id="parentDeptId" class="form-select" [(ngModel)]="parentDeptId" (change)="onParentDeptChange();" name="parentDeptId">
    <option [ngValue]="0" disabled selected>Select parent department</option> 
    @for(item of parentDeptList(); track $index){
       <option [ngValue]="item.departmentId">{{item.departmentName}}</option>
    }
</select>

        </div>
        <div class="col-md-4">
            <label for="deptId" class="form-label">Child Department</label>
            <select id="deptId" class="form-select" name="deptId" [(ngModel)]="employeeObj.deptId">
                <option selected>Select department</option>
                @for(item of childDeptList(); track $index){
                    <option [ngValue]="item.childDeptId">{{item.departmentName}}</option>
                }
            </select>
        </div>
       </div>
       

       <div class="row">
        <div class="col-md-6">
            <label for="password" class="form-label"  >Password</label>
            <input type="password" class="form-control" id="password" name="password" [(ngModel)]="employeeObj.password" placeholder="Enter password"> 
        </div>
        <div class="col-md-6">
            <label for="role" class="form-label" >Role</label>
            <input type="text" class="form-control" id="role" [(ngModel)]="employeeObj.role" name="role" placeholder="Enter role">
        </div>
       </div>


       <div class="row">
        <div class="col-md-6">
            <label for="gender" class="form-label"  >Gender</label>
            <select id="gender" class="form-select" name="gender" [(ngModel)]="employeeObj.gender">
                <option selected>Select gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
            </select> 
        </div>
         <div class="col-md-6">
            <label for="createdDate" class="form-label" >Date</label>
            <input type="date" class="form-control" id="createdDate" name="createdDate" [(ngModel)]="employeeObj.createdDate" placeholder="Enter Entry date">
        </div>
     
       </div>
       @if(this.employeeObj.employeeId==0){
         <div class="row">
        <div class="col-md-6">
            <button type="button" (click)="onSave();" class="btn btn-secondary mt-4 btn-submit">
            Save Employee
            </button>

            <button class="btn btn-danger mx-2 mt-4 btn-closed" (click)="showOrHide(false)">
                Close
            </button>

        </div>
       </div>
       }
       @else{
        <div class="row">
        <div class="col-md-6">
            <button type="button" (click)="onUpdate();" class="btn btn-warning mt-4 btn-update">
             Update Employee
            </button>

            <button class="btn btn-danger mx-2 mt-4 btn-closed" (click)="showOrHide(false)">
                Close
            </button>

        </div>
       </div>
       }

      
      
            </form>
     }
   
       
    <table class="table table-bordered employee-table">
        <thead>
            <tr>
                <th>Sr. No.</th>
                <th>Name</th>
                <th>Contact No</th>
                <th>Email</th>
                <th>Dptmnt.</th>
                <th>Role</th>
                <th>Gender</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @for(item of employeeList(); track $index){
                <tr>
                    <td>{{$index+1}}</td> 
                    <td>{{item.employeeName}}</td>
                    <td>{{item.contactNo}}</td>
                    <td>{{item.emailId}}</td>
                    <td>{{item.deptId}}</td>
                    <td>{{item.role}}</td>
                    <td>{{item.gender}}</td>
                    <td>
                        <button type="button" class="btn btn-sm btn-info me-1 button-edit" title="Edit" (click)="onEdit(item);" >
                            <i class="fa fa-pencil"></i>
                        </button>
                        <button type="button" class="btn btn-sm btn-danger button-delete" title="Delete" (click)="onDelete(item.employeeId)">
                            <i class="fa fa-trash"></i>
                         </button>
                    </td>

                    

                </tr>
            }
        </tbody>

    </table>
   

   


</div>

